(function(){var t={9697:function(t,e,r){"use strict";r.d(e,{Z:function(){return l}});var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ul",{staticClass:"nav nav-tabs mb-4"},t._l(t.tabs,(function(e){return r("li",{key:e.id,staticClass:"nav-item"},[r("router-link",{staticClass:"nav-link",attrs:{to:e.path}},[t._v(" "+t._s(e.title)+" ")])],1)})),0)},s=[],n=r(905),i={data(){return{tabs:[{id:(0,n.Z)(),title:"首頁",path:"/restaurants"},{id:(0,n.Z)(),title:"最新動態",path:"/restaurants/feeds"},{id:(0,n.Z)(),title:"TOP 10 人氣餐廳",path:"/restaurants/top"},{id:(0,n.Z)(),title:"美食達人",path:"/users/top"}]}}},o=i,u=r(1001),c=(0,u.Z)(o,a,s,!1,null,"4d06788f",null),l=c.exports},6700:function(t,e,r){var a={"./af":2398,"./af.js":2398,"./ar":4207,"./ar-dz":3382,"./ar-dz.js":3382,"./ar-kw":6525,"./ar-kw.js":6525,"./ar-ly":7098,"./ar-ly.js":7098,"./ar-ma":6483,"./ar-ma.js":6483,"./ar-sa":3961,"./ar-sa.js":3961,"./ar-tn":7401,"./ar-tn.js":7401,"./ar.js":4207,"./az":903,"./az.js":903,"./be":1174,"./be.js":1174,"./bg":4615,"./bg.js":4615,"./bm":225,"./bm.js":225,"./bn":9751,"./bn-bd":544,"./bn-bd.js":544,"./bn.js":9751,"./bo":6894,"./bo.js":6894,"./br":8566,"./br.js":8566,"./bs":959,"./bs.js":959,"./ca":2683,"./ca.js":2683,"./cs":4231,"./cs.js":4231,"./cv":999,"./cv.js":999,"./cy":4302,"./cy.js":4302,"./da":3601,"./da.js":3601,"./de":5509,"./de-at":2479,"./de-at.js":2479,"./de-ch":5948,"./de-ch.js":5948,"./de.js":5509,"./dv":9838,"./dv.js":9838,"./el":5113,"./el.js":5113,"./en-au":7377,"./en-au.js":7377,"./en-ca":9626,"./en-ca.js":9626,"./en-gb":5912,"./en-gb.js":5912,"./en-ie":2931,"./en-ie.js":2931,"./en-il":2243,"./en-il.js":2243,"./en-in":9779,"./en-in.js":9779,"./en-nz":9813,"./en-nz.js":9813,"./en-sg":4318,"./en-sg.js":4318,"./eo":4957,"./eo.js":4957,"./es":9243,"./es-do":7409,"./es-do.js":7409,"./es-mx":5188,"./es-mx.js":5188,"./es-us":6927,"./es-us.js":6927,"./es.js":9243,"./et":7731,"./et.js":7731,"./eu":1072,"./eu.js":1072,"./fa":9462,"./fa.js":9462,"./fi":3368,"./fi.js":3368,"./fil":3626,"./fil.js":3626,"./fo":6421,"./fo.js":6421,"./fr":974,"./fr-ca":7780,"./fr-ca.js":7780,"./fr-ch":9719,"./fr-ch.js":9719,"./fr.js":974,"./fy":8373,"./fy.js":8373,"./ga":3861,"./ga.js":3861,"./gd":4896,"./gd.js":4896,"./gl":739,"./gl.js":739,"./gom-deva":6737,"./gom-deva.js":6737,"./gom-latn":1979,"./gom-latn.js":1979,"./gu":2001,"./gu.js":2001,"./he":2123,"./he.js":2123,"./hi":2038,"./hi.js":2038,"./hr":1228,"./hr.js":1228,"./hu":87,"./hu.js":87,"./hy-am":3569,"./hy-am.js":3569,"./id":1977,"./id.js":1977,"./is":6853,"./is.js":6853,"./it":7859,"./it-ch":5626,"./it-ch.js":5626,"./it.js":7859,"./ja":4123,"./ja.js":4123,"./jv":6457,"./jv.js":6457,"./ka":638,"./ka.js":638,"./kk":6823,"./kk.js":6823,"./km":9493,"./km.js":9493,"./kn":1288,"./kn.js":1288,"./ko":9663,"./ko.js":9663,"./ku":805,"./ku.js":805,"./ky":7550,"./ky.js":7550,"./lb":6272,"./lb.js":6272,"./lo":9135,"./lo.js":9135,"./lt":1452,"./lt.js":1452,"./lv":5782,"./lv.js":5782,"./me":2181,"./me.js":2181,"./mi":258,"./mi.js":258,"./mk":5715,"./mk.js":5715,"./ml":538,"./ml.js":538,"./mn":3086,"./mn.js":3086,"./mr":5663,"./mr.js":5663,"./ms":5100,"./ms-my":2663,"./ms-my.js":2663,"./ms.js":5100,"./mt":880,"./mt.js":880,"./my":9099,"./my.js":9099,"./nb":8709,"./nb.js":8709,"./ne":2201,"./ne.js":2201,"./nl":1016,"./nl-be":1681,"./nl-be.js":1681,"./nl.js":1016,"./nn":5330,"./nn.js":5330,"./oc-lnc":7132,"./oc-lnc.js":7132,"./pa-in":251,"./pa-in.js":251,"./pl":3948,"./pl.js":3948,"./pt":9836,"./pt-br":8831,"./pt-br.js":8831,"./pt.js":9836,"./ro":8443,"./ro.js":8443,"./ru":4,"./ru.js":4,"./sd":4510,"./sd.js":4510,"./se":3148,"./se.js":3148,"./si":542,"./si.js":542,"./sk":7637,"./sk.js":7637,"./sl":5852,"./sl.js":5852,"./sq":611,"./sq.js":611,"./sr":242,"./sr-cyrl":302,"./sr-cyrl.js":302,"./sr.js":242,"./ss":1367,"./ss.js":1367,"./sv":2927,"./sv.js":2927,"./sw":5240,"./sw.js":5240,"./ta":2692,"./ta.js":2692,"./te":2132,"./te.js":2132,"./tet":8300,"./tet.js":8300,"./tg":7211,"./tg.js":7211,"./th":4050,"./th.js":4050,"./tk":3849,"./tk.js":3849,"./tl-ph":3964,"./tl-ph.js":3964,"./tlh":3650,"./tlh.js":3650,"./tr":4195,"./tr.js":4195,"./tzl":5529,"./tzl.js":5529,"./tzm":7520,"./tzm-latn":298,"./tzm-latn.js":298,"./tzm.js":7520,"./ug-cn":4134,"./ug-cn.js":4134,"./uk":5456,"./uk.js":5456,"./ur":5679,"./ur.js":5679,"./uz":9277,"./uz-latn":6446,"./uz-latn.js":6446,"./uz.js":9277,"./vi":3992,"./vi.js":3992,"./x-pseudo":8882,"./x-pseudo.js":8882,"./yo":2899,"./yo.js":2899,"./zh-cn":4017,"./zh-cn.js":4017,"./zh-hk":4831,"./zh-hk.js":4831,"./zh-mo":2881,"./zh-mo.js":2881,"./zh-tw":57,"./zh-tw.js":57};function s(t){var e=n(t);return r(e)}function n(t){if(!r.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}s.keys=function(){return Object.keys(a)},s.resolve=n,t.exports=s,s.id=6700},6047:function(t,e,r){"use strict";var a=r(1926);e["Z"]={signIn({email:t,password:e}){return a.l.post("/signin",{email:t,password:e})},signUp({name:t,email:e,password:r,passwordCheck:s}){return a.l.post("/signup",{name:t,email:e,password:r,passwordCheck:s})}}},1947:function(t,e,r){"use strict";var a=r(1926);e["Z"]={getRestaurant({restaurantId:t}){return a.l.get(`/restaurants/${t}`)},getRestaurants({page:t,categoryId:e}){const r=new URLSearchParams({page:t,categoryId:e});return a.l.get(`/restaurants?${r.toString()}`)},getFeeds(){return a.l.get("/restaurants/feeds")},getTopRestaurants(){return a.l.get("/restaurants/top")}}},6017:function(t,e,r){"use strict";var a=r(1926);const s=()=>localStorage.getItem("token");e["Z"]={getCurrentUser(){return a.l.get("/get_current_user",{headers:{Authorization:`Bearer ${s()}`}})},get({userId:t}){return a.l.get(`/users/${t}`,{headers:{Authorization:`Bearer ${s()}`}})},update({userId:t,formData:e}){return a.l.put(`/users/${t}`,e,{headers:{Authorization:`Bearer ${s()}`}})},addFavorite({restaurantId:t}){return a.l.post(`/favorite/${t}`,null,{headers:{Authorization:`Bearer ${s()}`}})},deleteFavorite({restaurantId:t}){return a.l["delete"](`/favorite/${t}`,{headers:{Authorization:`Bearer ${s()}`}})},addLike({restaurantId:t}){return a.l.post(`/like/${t}`,null,{headers:{Authorization:`Bearer ${s()}`}})},deleteLike({restaurantId:t}){return a.l["delete"](`/like/${t}`,{headers:{Authorization:`Bearer ${s()}`}})},addFollowing({userId:t}){return a.l.post(`/following/${t}`,null,{headers:{Authorization:`Bearer ${s()}`}})},deleteFollowing({userId:t}){return a.l["delete"](`/following/${t}`,{headers:{Authorization:`Bearer ${s()}`}})},addComment({formData:t}){return a.l.post("/comments",t,{headers:{Authorization:`Bearer ${s()}`}})},deleteComment({commentId:t}){return a.l["delete"](`/comments/${t}`,{headers:{Authorization:`Bearer ${s()}`}})},getTopUsers(){return a.l.get("/users/top",{headers:{Authorization:`Bearer ${s()}`}})}}},3264:function(t,e,r){"use strict";var a=r(8935),s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"restaurant-forum"}},[r("NavBar"),r("main",{staticClass:"mt-5 bg-white",attrs:{role:"main"}},[r("router-view")],1)],1)},n=[],i=(r(8837),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("nav",{staticClass:"navbar navbar-expand-lg fixed-top navbar-dark bg-dark d-flex justify-content-between"},[r("div",{staticClass:"ms-5"},[r("router-link",{staticClass:"navbar-brand",attrs:{to:"/"}},[t._v(" 餐廳評論網 ")])],1),r("div",{staticClass:"me-5"},[t._m(0),r("div",{staticClass:"navbar-collapse collapse",attrs:{id:"navbarSupportedContent"}},[r("div",{staticClass:"ml-auto d-flex align-items-center"},[t.currentUser.isAdmin?r("router-link",{staticClass:"text-white mr-3",attrs:{to:"/admin"}},[t._v(" 管理員後台 ")]):t._e(),t.isAuthenticated?[r("router-link",{staticClass:"text-white mx-3",attrs:{to:{name:"user",params:{id:t.currentUser.id}}}},[t._v(" "+t._s(t.currentUser.name||"使用者")+" 您好 ")]),r("button",{staticClass:"btn btn-sm btn-outline-success my-2 my-sm-0",attrs:{type:"button"},on:{click:t.logout}},[t._v(" 登出 ")])]:t._e()],2)])])])}),o=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"}},[r("span",{staticClass:"navbar-toggler-icon"})])}],u=r(4665),c={computed:{...(0,u.rn)(["currentUser","isAuthenticated"])},methods:{logout(){this.$store.commit("revokeAuthentication"),this.$router.push("/signin")}}},l=c,d=r(1001),m=(0,d.Z)(l,i,o,!1,null,"cc2f5df4",null),p=m.exports,g={name:"app",components:{NavBar:p}},f=g,h=(0,d.Z)(f,s,n,!1,null,"1da8d944",null),v=h.exports,b=(r(6699),r(2809)),j=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("h1",[t._v(" 404 Page Not Found ")])},y=[],k={},w=(0,d.Z)(k,j,y,!1,null,null,null),C=w.exports,P=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container py-5"},[r("form",{staticClass:"w-100",on:{submit:function(e){return e.preventDefault(),e.stopPropagation(),t.handleSubmit.apply(null,arguments)}}},[t._m(0),r("div",{staticClass:"form-label-group mb-2"},[r("label",{attrs:{for:"email"}},[t._v("email")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",attrs:{id:"email",name:"email",type:"email",placeholder:"email",autocomplete:"username",required:"",autofocus:""},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),r("div",{staticClass:"form-label-group mb-3"},[r("label",{attrs:{for:"password"}},[t._v("Password")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{id:"password",name:"password",type:"password",placeholder:"Password",autocomplete:"current-password",required:""},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),r("button",{staticClass:"btn btn-lg btn-primary btn-block mb-3",attrs:{type:"submit",disabled:t.isProcessing}},[t._v(" Submit ")]),r("div",{staticClass:"text-center mb-3"},[r("p",[r("router-link",{attrs:{to:"/signup"}},[t._v(" Sign Up ")])],1)]),r("p",{staticClass:"mt-5 mb-3 text-muted text-center"},[t._v(" © 2017-2018 ")])])])},_=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"text-center mb-4"},[r("h1",{staticClass:"h3 mb-3 font-weight-normal"},[t._v(" Sign In ")])])}],x=(r(1703),r(6047)),I=r(1926),$={data(){return{email:"",password:"",isProcessing:!1}},methods:{async handleSubmit(t){try{if(!this.email||!this.password)return void I.F.fire({icon:"warning",title:"請填寫 email 和 password"});this.isProcessing=!0;const t=await x.Z.signIn({email:this.email,password:this.password}),{data:e}=t;if(console.log("data",e),"success"!==e.status)throw new Error(e.message);localStorage.setItem("token",e.token),this.$store.commit("setCurrentUser",e.user),this.$router.push("/restaurants")}catch(e){this.isProcessing=!1,this.password="",I.F.fire({icon:"warning",title:"請確認您輸入了正確的帳號密碼"}),console.warn("error",e)}}}},A=$,E=(0,d.Z)(A,P,_,!1,null,null,null),z=E.exports,Z=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container py-5"},[r("NavTabs"),r("RestaurantsNavPills",{attrs:{categories:t.categories}}),r("div",{staticClass:"row"},t._l(t.restaurants,(function(t){return r("RestaurantCard",{key:t.id,attrs:{"initial-restaurant":t}})})),1),r("RestaurantsPagination",{attrs:{"category-id":t.categoryId,"current-page":t.currentPage,"total-page":t.totalPage,"previous-page":t.previousPage,"next-page":t.nextPage}})],1)},F=[],N=r(9697),S=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"col-md-6 col-lg-4"},[r("div",{staticClass:"card mb-4"},[r("img",{staticClass:"card-img-top",attrs:{src:t._f("emptyImage")(t.restaurant.image),alt:"Card image cap",width:"286px",height:"180px"}}),r("div",{staticClass:"card-body"},[r("p",{staticClass:"card-text title-wrap"},[r("router-link",{attrs:{to:{name:"restaurant",params:{id:t.restaurant.id}}}},[t._v(" "+t._s(t.restaurant.name)+" ")]),t._v("> ")],1),r("span",{staticClass:"badge bg-secondary"},[t._v(t._s(t.restaurant.Category?t.restaurant.Category.name:"未分類"))]),r("p",{staticClass:"card-text text-truncate"},[t._v(" "+t._s(t.restaurant.description)+" ")])]),r("div",{staticClass:"card-footer"},[t.restaurant.isFavorited?r("button",{staticClass:"btn btn-danger btn-border favorite mx-2",attrs:{disabled:t.idProcessing,type:"button"},on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.deleteFavorite(t.restaurant.id)}}},[t._v(" 移除最愛 ")]):r("button",{staticClass:"btn btn-primary btn-border favorite mx-2",attrs:{disabled:t.idProcessing,type:"button"},on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.addFavorite(t.restaurant.id)}}},[t._v(" 加到最愛 ")]),t.restaurant.isLiked?r("button",{staticClass:"btn btn-danger like mx-2",attrs:{disabled:t.idProcessing,type:"button"},on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.deleteLike(t.restaurant.id)}}},[t._v(" Unlike ")]):r("button",{staticClass:"btn btn-primary like mx-2",attrs:{type:"button",disabled:t.idProcessing},on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.addLike(t.restaurant.id)}}},[t._v(" Like ")])])])])},U=[],q=r(8247),O=r(6017),L={props:{initialRestaurant:{type:Object,required:!0}},mixins:[q.P],data(){return{restaurant:this.initialRestaurant,idProcessing:!1}},methods:{async addFavorite(t){try{this.idProcessing=!0;const{data:e}=await O.Z.addFavorite({restaurantId:t});if("success"!==e.status)throw new Error(e.message);this.restaurant={...this.restaurant,isFavorited:!0},this.idProcessing=!1}catch(e){this.idProcessing=!1,console.log(e),I.F.fire({icon:"error",title:"無法加到最愛，請稍後再試"})}},async deleteFavorite(t){try{this.idProcessing=!0;const{data:e}=await O.Z.deleteFavorite({restaurantId:t});if("success"!==e.status)throw new Error(e.message);this.restaurant={...this.restaurant,isFavorited:!1},this.idProcessing=!1}catch(e){this.idProcessing=!1,console.log(e),I.F.fire({icon:"error",title:"無法刪除最愛，請稍後再試"})}},async addLike(t){try{this.idProcessing=!0;const{data:e}=await O.Z.addLike({restaurantId:t});if("success"!==e.status)throw new Error(e.message);this.restaurant={...this.restaurant,isLiked:!0},this.idProcessing=!1}catch(e){this.idProcessing=!1,console.log("error",e),I.F.fire({icon:"error",title:"無法like，請稍後再試"})}},async deleteLike(t){try{this.idProcessing=!0;const{data:e}=await O.Z.deleteLike({restaurantId:t});if("success"!==e.status)throw new Error(e.message);this.restaurant={...this.restaurant,isLiked:!1},this.idProcessing=!1}catch(e){this.idProcessing=!1,console.log("error",e),I.F.fire({icon:"error",title:"無法unlike，請稍後再試"})}}}},B=L,R=(0,d.Z)(B,S,U,!1,null,"7bae8e23",null),T=R.exports,D=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ul",{staticClass:"nav nav-pills mb-4"},[r("li",{staticClass:"nav-item"},[r("router-link",{staticClass:"nav-link",attrs:{to:{name:"restaurants"}}},[t._v(" 全部 ")])],1),t._l(t.categories,(function(e){return r("li",{key:e.id,staticClass:"nav-item"},[r("router-link",{staticClass:"nav-link",attrs:{to:{name:"restaurants",query:{categoryId:e.id}}}},[t._v(" "+t._s(e.name)+" ")])],1)}))],2)},M=[],H={props:{categories:{type:Array,required:!0}}},K=H,G=(0,d.Z)(K,D,M,!1,null,"c4538806",null),J=G.exports,Q=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("nav",{attrs:{"aria-label":"Page navigation example"}},[r("ul",{staticClass:"pagination"},[r("li",{directives:[{name:"show",rawName:"v-show",value:t.previousPage,expression:"previousPage"}],staticClass:"page-item",class:{disabled:1===t.currentPage}},[r("router-link",{staticClass:"page-link",attrs:{"aria-label":"Previous",to:{name:"restaurants",categoryId:t.categoryId,page:t.previousPage}}},[r("span",{attrs:{"aria-hidden":"true"}},[t._v("«")])])],1),t._l(t.totalPage,(function(e){return r("li",{key:e,staticClass:"page-item",class:{active:e===t.currentPage}},[r("router-link",{staticClass:"page-link",attrs:{to:{name:"restaurants",query:{categoryId:t.categoryId,page:e}}}},[t._v(" "+t._s(e)+" ")])],1)})),r("li",{directives:[{name:"show",rawName:"v-show",value:t.nextPage,expression:"nextPage"}],staticClass:"page-item",class:{disabled:t.currentPage===t.totalPage.length}},[r("router-link",{staticClass:" page-link",attrs:{"aria-label":"Next",to:{name:"restaurants",categoryId:t.categoryId,page:t.nextPage}}},[r("span",{attrs:{"aria-hidden":"true"}},[t._v("»")])])],1)],2)])},V=[],W={props:{categoryId:{type:[Number,String],default:""},currentPage:{type:Number,defaulte:1},totalPage:{type:Array,required:!0},previousPage:{type:Number,required:!0},nextPage:{type:Number,required:!0}}},X=W,Y=(0,d.Z)(X,Q,V,!1,null,"3ba91c9e",null),tt=Y.exports,et=r(1947);var rt={components:{NavTabs:N.Z,RestaurantCard:T,RestaurantsNavPills:J,RestaurantsPagination:tt},data(){return{restaurants:[],categories:[],categoryId:-1,currentPage:1,totalPage:[],previousPage:-1,nextPage:-1}},methods:{async fetchRestaurants({queryPage:t,queryCategoryId:e}){try{const r=await et.Z.getRestaurants({page:t,categoryId:e}),{restaurants:a,categories:s,categoryId:n,page:i,totalPage:o,prev:u,next:c}=r.data;this.restaurants=a,this.categories=s,this.categoryId=n,this.currentPage=i,this.totalPage=o,this.previousPage=u,this.nextPage=c}catch(r){console.log("error",r),I.F.fire({icon:"error",title:"無法取得餐廳資料，請稍後再試"})}}},created(){const{page:t="",categoryId:e=""}=this.$route.query;this.fetchRestaurants({queryPage:t,queryCategoryId:e})},beforeRouteUpdate(t,e,r){const{page:a="",categoryId:s=""}=t.query;this.fetchRestaurants({queryPage:a,queryCategoryId:s}),r()}},at=rt,st=(0,d.Z)(at,Z,F,!1,null,null,null),nt=st.exports;a.Z.use(u.ZP);var it=new u.ZP.Store({state:{currentUser:{id:-1,name:"",email:"",image:"",isAdmin:!1},isAuthenticated:!1,token:""},getters:{},mutations:{setCurrentUser(t,e){t.currentUser={...t.currentUser,...e},t.isAuthenticated=!0,t.token=localStorage.getItem("token")},revokeAuthentication(t){t.currentUser={},t.isAuthenticated=!1,t.token="",localStorage.removeItem("token")}},actions:{async fetchCurrentUser({commit:t}){try{const{data:e}=await O.Z.getCurrentUser(),{id:r,name:a,email:s,image:n,isAdmin:i}=e;return t("setCurrentUser",{id:r,name:a,email:s,image:n,isAdmin:i}),!0}catch(e){return console.log("error",e),console.error("can not fetch user information"),!1}}},modules:{}});a.Z.use(b.Z);const ot=(t,e,r)=>{const a=it.state.currentUser;!a||a.isAdmin?r():r("/404")},ut=[{path:"/",name:"root",redirect:"/signin"},{path:"/signin",name:"sign-in",component:z},{path:"/signup",name:"sign-up",component:()=>r.e(254).then(r.bind(r,1254))},{path:"/restaurants",name:"restaurants",component:nt},{path:"/restaurants/feeds",name:"restaurants-feeds",component:()=>r.e(692).then(r.bind(r,3692))},{path:"/restaurants/top",name:"restaurants-tops",component:()=>r.e(412).then(r.bind(r,4412))},{path:"/restaurants/:id/dashboard",name:"restaurantDashboard",component:()=>r.e(516).then(r.bind(r,9174))},{path:"/restaurants/:id",name:"restaurant",component:()=>r.e(783).then(r.bind(r,6783))},{path:"/users/top",name:"users-top",component:()=>r.e(0).then(r.bind(r,8e3))},{path:"/users/:id/edit",name:"user-edit",component:()=>r.e(741).then(r.bind(r,5788))},{path:"/users/:id",name:"user",component:()=>r.e(691).then(r.bind(r,8691))},{path:"/admin",exact:!0,redirect:"/admin/restaurants",beforeEnter:ot},{path:"/admin/restaurants",name:"admin-restaurants",component:()=>r.e(195).then(r.bind(r,9195)),beforeEnter:ot},{path:"/admin/restaurants/new",name:"admin-restaurant-new",component:()=>r.e(549).then(r.bind(r,8549)),beforeEnter:ot},{path:"/admin/restaurants/:id/edit",name:"admin-restaurant-edit",component:()=>r.e(38).then(r.bind(r,1038)),beforeEnter:ot},{path:"/admin/restaurants/:id",name:"admin-restaurant",component:()=>r.e(174).then(r.bind(r,7174)),beforeEnter:ot},{path:"/admin/categories",name:"admin-categories",component:()=>r.e(889).then(r.bind(r,889)),beforeEnter:ot},{path:"/admin/users",name:"admin-users",component:()=>r.e(713).then(r.bind(r,7713)),beforeEnter:ot},{path:"*",name:"not-found",component:C}],ct=new b.Z({linkExactActiveClass:"active",routes:ut});ct.beforeEach((async(t,e,r)=>{const a=localStorage.getItem("token"),s=it.state.token;let n=it.state.isAuthenticated;a&&a!==s&&(n=await it.dispatch("fetchCurrentUser"));const i=["sign-up","sign-in"];n||i.includes(t.name)?(n&&i.includes(t.name)&&r("/restaurants"),r()):r("/signin")}));var lt=ct;a.Z.config.productionTip=!1,new a.Z({router:lt,store:it,render:t=>t(v)}).$mount("#app")},1926:function(t,e,r){"use strict";r.d(e,{F:function(){return l},l:function(){return c}});var a=r(6166),s=r.n(a),n=r(7099),i=r.n(n);let o="";o="https://forum-express-api.herokuapp.com/api/";const u=s().create({baseURL:o});u.interceptors.request.use((t=>{const e=localStorage.getItem("token");return e&&(t.headers["Authorization"]=`Bearer ${e}`),t}),(t=>Promise.reject(t)));const c=u,l=i().mixin({toast:!0,position:"top",showConfirmButton:!0,timer:3e3})},8247:function(t,e,r){"use strict";r.d(e,{P:function(){return i},q:function(){return n}});var a=r(7133),s=r.n(a);const n={filters:{fromNow(t){return t?s()(t).fromNow():"-"}}},i={filters:{emptyImage(t){return t||"https://via.placeholder.com/350x220/DFDFDF?text=No+Image"}}}}},e={};function r(a){var s=e[a];if(void 0!==s)return s.exports;var n=e[a]={id:a,loaded:!1,exports:{}};return t[a].call(n.exports,n,n.exports,r),n.loaded=!0,n.exports}r.m=t,function(){var t=[];r.O=function(e,a,s,n){if(!a){var i=1/0;for(l=0;l<t.length;l++){a=t[l][0],s=t[l][1],n=t[l][2];for(var o=!0,u=0;u<a.length;u++)(!1&n||i>=n)&&Object.keys(r.O).every((function(t){return r.O[t](a[u])}))?a.splice(u--,1):(o=!1,n<i&&(i=n));if(o){t.splice(l--,1);var c=s();void 0!==c&&(e=c)}}return e}n=n||0;for(var l=t.length;l>0&&t[l-1][2]>n;l--)t[l]=t[l-1];t[l]=[a,s,n]}}(),function(){r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,{a:e}),e}}(),function(){r.d=function(t,e){for(var a in e)r.o(e,a)&&!r.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){r.f={},r.e=function(t){return Promise.all(Object.keys(r.f).reduce((function(e,a){return r.f[a](t,e),e}),[]))}}(),function(){r.u=function(t){return"js/"+t+"."+{0:"b999d452",38:"f94fa8c4",174:"4b2fa1a9",195:"cfd64966",254:"590a8689",412:"98a27e44",516:"8e6a7d59",549:"efbe99bd",691:"517794d5",692:"2f822aff",713:"d302f308",741:"0ac5899a",783:"c2264a87",889:"e9474400"}[t]+".js"}}(),function(){r.miniCssF=function(t){return"css/"+t+"."+{692:"63402e39",783:"088acf13",889:"75964512"}[t]+".css"}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={},e="forum-front-end-vue:";r.l=function(a,s,n,i){if(t[a])t[a].push(s);else{var o,u;if(void 0!==n)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var d=c[l];if(d.getAttribute("src")==a||d.getAttribute("data-webpack")==e+n){o=d;break}}o||(u=!0,o=document.createElement("script"),o.charset="utf-8",o.timeout=120,r.nc&&o.setAttribute("nonce",r.nc),o.setAttribute("data-webpack",e+n),o.src=a),t[a]=[s];var m=function(e,r){o.onerror=o.onload=null,clearTimeout(p);var s=t[a];if(delete t[a],o.parentNode&&o.parentNode.removeChild(o),s&&s.forEach((function(t){return t(r)})),e)return e(r)},p=setTimeout(m.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=m.bind(null,o.onerror),o.onload=m.bind(null,o.onload),u&&document.head.appendChild(o)}}}(),function(){r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){r.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t}}(),function(){r.p="/forum-front-end-vue/"}(),function(){var t=function(t,e,r,a){var s=document.createElement("link");s.rel="stylesheet",s.type="text/css";var n=function(n){if(s.onerror=s.onload=null,"load"===n.type)r();else{var i=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.href||e,u=new Error("Loading CSS chunk "+t+" failed.\n("+o+")");u.code="CSS_CHUNK_LOAD_FAILED",u.type=i,u.request=o,s.parentNode.removeChild(s),a(u)}};return s.onerror=s.onload=n,s.href=e,document.head.appendChild(s),s},e=function(t,e){for(var r=document.getElementsByTagName("link"),a=0;a<r.length;a++){var s=r[a],n=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(n===t||n===e))return s}var i=document.getElementsByTagName("style");for(a=0;a<i.length;a++){s=i[a],n=s.getAttribute("data-href");if(n===t||n===e)return s}},a=function(a){return new Promise((function(s,n){var i=r.miniCssF(a),o=r.p+i;if(e(i,o))return s();t(a,o,s,n)}))},s={143:0};r.f.miniCss=function(t,e){var r={692:1,783:1,889:1};s[t]?e.push(s[t]):0!==s[t]&&r[t]&&e.push(s[t]=a(t).then((function(){s[t]=0}),(function(e){throw delete s[t],e})))}}(),function(){var t={143:0};r.f.j=function(e,a){var s=r.o(t,e)?t[e]:void 0;if(0!==s)if(s)a.push(s[2]);else{var n=new Promise((function(r,a){s=t[e]=[r,a]}));a.push(s[2]=n);var i=r.p+r.u(e),o=new Error,u=function(a){if(r.o(t,e)&&(s=t[e],0!==s&&(t[e]=void 0),s)){var n=a&&("load"===a.type?"missing":a.type),i=a&&a.target&&a.target.src;o.message="Loading chunk "+e+" failed.\n("+n+": "+i+")",o.name="ChunkLoadError",o.type=n,o.request=i,s[1](o)}};r.l(i,u,"chunk-"+e,e)}},r.O.j=function(e){return 0===t[e]};var e=function(e,a){var s,n,i=a[0],o=a[1],u=a[2],c=0;if(i.some((function(e){return 0!==t[e]}))){for(s in o)r.o(o,s)&&(r.m[s]=o[s]);if(u)var l=u(r)}for(e&&e(a);c<i.length;c++)n=i[c],r.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return r.O(l)},a=self["webpackChunkforum_front_end_vue"]=self["webpackChunkforum_front_end_vue"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=r.O(void 0,[998],(function(){return r(3264)}));a=r.O(a)})();
//# sourceMappingURL=app.56c2cd3c.js.map