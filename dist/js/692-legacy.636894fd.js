"use strict";(self["webpackChunkforum_front_end_vue"]=self["webpackChunkforum_front_end_vue"]||[]).push([[692],{34637:function(t,e,r){r.d(e,{Z:function(){return u}});var s=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},n=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"spinner"},[r("div",{staticClass:"bouncing-loader"},[r("div"),r("div"),r("div")])])}],a=r(1001),i={},c=(0,a.Z)(i,s,n,!1,null,"17d87710",null),u=c.exports},53692:function(t,e,r){r.r(e),r.d(e,{default:function(){return L}});var s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container py-5"},[r("NavTabs"),t.isLoading?r("Spinner"):[r("h1",{staticClass:"mt-5"},[t._v(" 最新動態 ")]),r("hr"),r("div",{staticClass:"row"},[r("div",{staticClass:"col-md-6"},[r("h3",[t._v("最新餐廳")]),r("NewestRestaurants",{attrs:{restaurants:t.restaurants}})],1),r("div",{staticClass:"col-md-6"},[r("h3",[t._v("最新評論")]),r("NewestComments",{attrs:{comments:t.comments}})],1)])]],2)},n=[],a=r(67906),i=r(16198),c=(r(57327),r(41539),r(9697)),u=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"card"},[r("div",{staticClass:"card-header"},[t._v(" 最新餐廳 ")]),r("div",{staticClass:"card-body"},t._l(t.restaurants,(function(e){return r("div",{key:e.id},[r("h4",[r("router-link",{attrs:{to:{name:"restaurant",params:{id:e.id}}}},[t._v(" "+t._s(e.name)+" ")]),r("small",[t._v(t._s(e.Category?e.Category.name:"未分類"))])],1),r("p",[t._v(t._s(e.description))]),t._v(t._s(t._f("fromNow")(e.createdAt))+" "),r("hr")])})),0)])},o=[],l=r(98247),d={props:{restaurants:{type:Array,required:!0}},mixins:[l.q]},m=d,v=r(1001),_=(0,v.Z)(m,u,o,!1,null,"531c5314",null),f=_.exports,p=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"card"},[r("div",{staticClass:"card-header"},[t._v(" 最新評論 ")]),r("div",{staticClass:"card-body"},t._l(t.comments,(function(e){return r("div",{key:e.id},[r("h4",[r("router-link",{attrs:{to:{name:"restaurant",params:{id:e.Restaurant.id}}}},[t._v(" "+t._s(e.Restaurant.name)+" ")])],1),r("p",[t._v(t._s(e.text))]),t._v("by "),r("router-link",{attrs:{to:{name:"user",params:{id:e.User.id}}}},[t._v(" "+t._s(e.User.name)+" ")]),t._v(" "+t._s(t._f("fromNow")(e.createdAt))+" "),r("hr")],1)})),0)])},h=[],C={props:{comments:{type:Array,required:!0}},mixins:[l.q]},w=C,y=(0,v.Z)(w,p,h,!1,null,null,null),k=y.exports,x=r(34637),Z=r(81947),g=r(41926),b={components:{NavTabs:c.Z,NewestRestaurants:f,NewestComments:k,Spinner:x.Z},data:function(){return{restaurants:[],comments:[],isLoading:!0}},methods:{fetchFeeds:function(){var t=this;return(0,i.Z)((0,a.Z)().mark((function e(){var r,s,n,i;return(0,a.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.isLoading=!0,e.next=4,Z.Z.getFeeds();case 4:r=e.sent,s=r.data,n=s.restaurants,i=s.comments,t.restaurants=n,t.comments=i.filter((function(t){return t.Restaurant&&t.text})),t.isLoading=!1,e.next=16;break;case 11:e.prev=11,e.t0=e["catch"](0),t.isLoading=!1,console.log("error",e.t0),g.F.fire({icon:"error",title:"無法取得餐廳資料，請稍後再試"});case 16:case"end":return e.stop()}}),e,null,[[0,11]])})))()}},created:function(){this.fetchFeeds()}},N=b,E=(0,v.Z)(N,s,n,!1,null,null,null),L=E.exports}}]);
//# sourceMappingURL=692-legacy.636894fd.js.map